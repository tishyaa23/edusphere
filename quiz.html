<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Quiz - EduSphere</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 min-h-screen">
    <!-- Quiz Container -->
    <div class="max-w-4xl mx-auto px-4 py-8">
        <!-- Header -->
        <div class="bg-white rounded-3xl shadow-xl p-8 mb-6 fade-in">
            <div class="text-center">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl mb-4">
                    <span class="text-3xl">üìù</span>
                </div>
                <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">Course Assessment Quiz</h1>
                <p class="text-gray-600">Test your knowledge and track your progress</p>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="bg-white rounded-full h-4 shadow-inner mb-6 overflow-hidden fade-in">
            <div id="progressBar" class="h-full bg-gradient-to-r from-blue-600 to-purple-600 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
        </div>

        <!-- Question Section -->
        <div id="questionSection" class="bg-white rounded-3xl shadow-xl p-8 mb-6 fade-in">
            <p id="questionNumber" class="text-sm font-semibold text-purple-600 mb-4">Question 1 of 6</p>
            <h2 id="questionText" class="text-2xl font-bold text-gray-900 mb-8">Loading question...</h2>
            <div id="optionsContainer" class="space-y-3"></div>
        </div>

        <!-- Action Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 mb-6">
            <button onclick="returnToCourse()" class="flex-1 bg-white text-gray-700 font-semibold py-4 px-6 rounded-xl shadow-md hover:shadow-lg hover:bg-gray-50 transition-all flex items-center justify-center space-x-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                </svg>
                <span>Back to Course</span>
            </button>
            <button id="nextBtn" onclick="nextQuestion()" disabled class="flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold py-4 px-6 rounded-xl shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center space-x-2">
                <span>Next Question</span>
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                </svg>
            </button>
        </div>

        <!-- Results Section (Initially Hidden) -->
        <div id="resultsSection" class="hidden"></div>
    </div>

    <!-- Results Modal -->
    <div id="resultsModal" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 transform transition-all scale-95">
            <div class="text-center">
                <div class="inline-flex items-center justify-center w-32 h-32 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full mb-6 pulse-animation">
                    <span id="scoreCircle" class="text-4xl font-bold text-white">0/6</span>
                </div>
                <h2 id="resultTitle" class="text-3xl font-bold text-gray-900 mb-3">Quiz Complete!</h2>
                <p id="resultMessage" class="text-gray-600 mb-8">You've completed the assessment</p>
                <div class="flex flex-col gap-3">
                    <button onclick="showAnswers()" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold py-4 px-6 rounded-xl hover:shadow-lg hover:scale-105 transition-all">
                        View Answers
                    </button>
                    <button onclick="returnToCatalog()" class="w-full bg-gray-100 text-gray-700 font-semibold py-4 px-6 rounded-xl hover:bg-gray-200 transition-all">
                        Return to Courses
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mock quiz data - replace with your actual data
        const quizData = [
            {
                question: "What is the primary purpose of HTML in web development?",
                options: [
                    "To style web pages",
                    "To structure web content",
                    "To add interactivity",
                    "To manage databases"
                ],
                correct: 1
            },
            {
                question: "Which CSS property is used to change text color?",
                options: [
                    "font-color",
                    "text-color",
                    "color",
                    "text-style"
                ],
                correct: 2
            },
            {
                question: "What does JavaScript primarily add to a website?",
                options: [
                    "Structure",
                    "Style",
                    "Interactivity",
                    "Content"
                ],
                correct: 2
            },
            {
                question: "What is the correct HTML tag for the largest heading?",
                options: [
                    "<heading>",
                    "<h1>",
                    "<head>",
                    "<h6>"
                ],
                correct: 1
            },
            {
                question: "Which symbol is used for class selectors in CSS?",
                options: [
                    "#",
                    ".",
                    "@",
                    "$"
                ],
                correct: 1
            },
            {
                question: "What is the purpose of responsive web design?",
                options: [
                    "To make websites load faster",
                    "To improve SEO rankings",
                    "To adapt layouts to different screen sizes",
                    "To add animations"
                ],
                correct: 2
            }
        ];

        let currentQuestion = 0;
        let userAnswers = [];
        let score = 0;

        function loadQuestion() {
            const question = quizData[currentQuestion];
            document.getElementById('questionNumber').textContent = `Question ${currentQuestion + 1} of ${quizData.length}`;
            document.getElementById('questionText').textContent = question.question;

            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            const letters = ['A', 'B', 'C', 'D'];
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'group cursor-pointer bg-gray-50 hover:bg-blue-50 border-2 border-gray-200 hover:border-blue-400 rounded-xl p-4 transition-all hover:shadow-md';
                optionDiv.innerHTML = `
                    <div class="flex items-center space-x-4">
                        <span class="flex-shrink-0 w-10 h-10 bg-white group-hover:bg-blue-600 group-hover:text-white border-2 border-gray-300 group-hover:border-blue-600 rounded-lg flex items-center justify-center font-bold text-gray-700 transition-all">${letters[index]}</span>
                        <span class="text-gray-800 font-medium">${option}</span>
                    </div>
                `;
                optionDiv.onclick = () => selectOption(index, optionDiv);
                optionsContainer.appendChild(optionDiv);
            });

            updateProgress();
            document.getElementById('nextBtn').disabled = true;
        }

        function selectOption(index, element) {
            const options = document.querySelectorAll('#optionsContainer > div');
            options.forEach(opt => {
                opt.classList.remove('bg-blue-100', 'border-blue-500', 'shadow-md');
                opt.classList.add('bg-gray-50', 'border-gray-200');
            });
            
            element.classList.remove('bg-gray-50', 'border-gray-200');
            element.classList.add('bg-blue-100', 'border-blue-500', 'shadow-md');
            
            userAnswers[currentQuestion] = index;
            document.getElementById('nextBtn').disabled = false;
        }

        function nextQuestion() {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                submitQuiz();
            }

            if (currentQuestion === quizData.length - 1) {
                document.getElementById('nextBtn').innerHTML = `
                    <span>Submit Quiz</span>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                `;
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / quizData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function submitQuiz() {
            score = 0;
            quizData.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    score++;
                }
            });

            document.getElementById('scoreCircle').textContent = `${score}/${quizData.length}`;
            
            let title, message;
            const percentage = (score / quizData.length) * 100;
            
            if (percentage === 100) {
                title = "Perfect Score! üéâ";
                message = "Congratulations! You've mastered this course!";
            } else if (percentage >= 70) {
                title = "Great Job! ‚≠ê";
                message = "You have a strong understanding of the material!";
            } else if (percentage >= 50) {
                title = "Good Effort! üëç";
                message = "You're on the right track. Review and try again!";
            } else {
                title = "Keep Learning! üìö";
                message = "Don't give up! Review the course and try again.";
            }

            document.getElementById('resultTitle').textContent = title;
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('resultsModal').classList.remove('hidden');
            document.getElementById('resultsModal').classList.add('flex');
        }

        function showAnswers() {
            document.getElementById('resultsModal').classList.add('hidden');
            document.getElementById('resultsModal').classList.remove('flex');
            
            const resultsSection = document.getElementById('resultsSection');
            resultsSection.innerHTML = '<div class="bg-white rounded-3xl shadow-xl p-8"><h2 class="text-2xl font-bold text-gray-900 mb-6">Answer Review</h2><div class="space-y-4">';

            quizData.forEach((question, index) => {
                const isCorrect = userAnswers[index] === question.correct;
                const resultHTML = `
                    <div class="border-l-4 ${isCorrect ? 'border-green-500 bg-green-50' : 'border-red-500 bg-red-50'} rounded-r-xl p-5">
                        <p class="font-semibold text-gray-900 mb-2">Question ${index + 1}: ${question.question}</p>
                        <p class="text-sm ${isCorrect ? 'text-green-700' : 'text-red-700'} mb-1">
                            <span class="font-medium">Your answer:</span> ${question.options[userAnswers[index]]} ${isCorrect ? '‚úì' : '‚úó'}
                        </p>
                        ${!isCorrect ? `<p class="text-sm text-green-700"><span class="font-medium">Correct answer:</span> ${question.options[question.correct]} ‚úì</p>` : ''}
                    </div>
                `;
                resultsSection.innerHTML += resultHTML;
            });

            resultsSection.innerHTML += '</div></div>';
            resultsSection.classList.remove('hidden');
            document.getElementById('questionSection').style.display = 'none';
            document.querySelector('.flex.flex-col.sm\\:flex-row').style.display = 'none';
        }

        function returnToCourse() {
            window.location.href = 'course.html';
        }

        function returnToCatalog() {
            window.location.href = 'catalog.html';
        }

        // Initialize quiz
        loadQuestion();
    </script>
</body>
</html>